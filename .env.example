# ===========================================
# 数据库配置 (Database Configuration)
# ===========================================
# 数据库类型 - 支持 mysql, sqlite, memory
# 开发环境推荐使用 sqlite，生产环境推荐使用 mysql
DB_TYPE=mysql

# MySQL 数据库连接信息
# 主机地址 (通常为 localhost 或服务器IP)
DB_HOST=localhost

# 数据库端口 (MySQL默认端口为3306)
DB_PORT=3306

# 数据库名称 (请确保数据库已创建)
DB_NAME=travelweb_db

# 数据库用户名
DB_USER=root

# 数据库密码 (请替换为实际密码)
DB_PASSWORD=

# 连接池最大连接数
DB_CONNECTION_LIMIT=10

# SQLite 数据库文件路径 (当 DB_TYPE=sqlite 时使用)
DB_PATH=./database/travelweb.db

# 数据库连接超时时间（毫秒）
DB_TIMEOUT=30000

# 是否启用数据库查询日志
DB_LOGGING=false

# ===========================================
# 应用配置 (Application Configuration)
# ===========================================
# 运行环境: development, production, test
NODE_ENV=production

# 应用端口
PORT=3001

# 应用主机地址
HOST=0.0.0.0

# API 基础地址配置
# 开发环境: http://localhost:3001
# 生产环境: https://chengex.wisdomier.com/api
API_BASE_URL=https://chengex.wisdomier.com/api

# 前端应用地址
# 开发环境: http://localhost:3000
# 生产环境: https://chengex.wisdomier.com
FRONTEND_URL=https://chengex.wisdomier.com

# 后台管理系统地址
# 开发环境: http://localhost:5174
# 生产环境: https://chengex.wisdomier.com/admin
ADMIN_URL=https://chengex.wisdomier.com/admin

# ===========================================
# JWT 认证配置 (JWT Authentication Configuration)
# ===========================================
# JWT密钥 - 用于签名和验证JWT令牌的密钥
# 注意：密钥本身不会过期，只有令牌会过期
# 生产环境必须使用安全的64位随机字符串
# 请使用以下命令生成新密钥：node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_secure_64_character_jwt_secret_key_replace_this_in_production

# 访问令牌过期时间 (Access Token)
# 用户登录后获得的主要令牌，用于API访问
# 建议：开发环境1-7天，生产环境7-30天
JWT_EXPIRES_IN=30d

# 刷新令牌过期时间 (Refresh Token)
# 用于在访问令牌过期时自动获取新的访问令牌
# 建议：比访问令牌长2-3倍，通常30-90天
# 刷新机制：当访问令牌过期时，系统自动使用刷新令牌获取新的访问令牌
# 用户无需重新登录，实现无缝的长期使用体验
JWT_REFRESH_EXPIRES_IN=90d

# 令牌自动刷新阈值（可选）
# 当访问令牌剩余时间少于此值时，自动刷新
# JWT_AUTO_REFRESH_THRESHOLD=7d

# ===========================================
# 安全配置 (Security Configuration)
# ===========================================
# CORS 允许的域名 (生产环境请指定具体域名)
# 开发环境: http://localhost:3000,http://localhost:5174
# 生产环境: https://chengex.wisdomier.com
CORS_ORIGIN=https://chengex.wisdomier.com

# 速率限制配置 - 每个窗口期内的最大请求数
RATE_LIMIT_MAX=1000

# 速率限制窗口期（毫秒）- 15分钟
RATE_LIMIT_WINDOW=900000

# 信任代理 (使用 Nginx 反向代理时设置为 true)
TRUST_PROXY=true

# 会话密钥
SESSION_SECRET=your_session_secret_key

# 密码加密轮数
BCRYPT_ROUNDS=12

# ===========================================
# 文件上传配置 (File Upload Configuration)
# ===========================================
# 最大文件大小（字节）- 10MB
MAX_FILE_SIZE=10485760

# 允许的文件类型
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,mp4,webm,mov,avi

# 上传文件存储目录
UPLOAD_DIR=uploads

# 图片质量压缩比例 (0-100)
IMAGE_QUALITY=85

# 是否启用文件类型检查
ENABLE_FILE_TYPE_CHECK=true

# ===========================================
# 缓存配置 (Cache Configuration)
# ===========================================
# 缓存类型: memory, redis
CACHE_TYPE=memory

# 缓存过期时间（秒）
CACHE_TTL=3600

# Redis 连接地址
REDIS_URL=redis://localhost:6379

# Redis 密码
REDIS_PASSWORD=

# Redis 数据库索引
REDIS_DB=0

# Redis 连接超时时间（毫秒）
REDIS_TIMEOUT=5000

# ===========================================
# 日志配置 (Logging Configuration)
# ===========================================
# 日志级别: error, warn, info, debug
LOG_LEVEL=info

# 日志文件路径
LOG_FILE=logs/app.log

# 错误日志文件路径
ERROR_LOG_FILE=logs/error.log

# 访问日志文件路径
ACCESS_LOG_FILE=logs/access.log

# 日志文件最大大小（MB）
LOG_MAX_SIZE=10

# 保留的日志文件数量
LOG_MAX_FILES=5

# 是否启用控制台日志
ENABLE_CONSOLE_LOG=true

# ===========================================
# 性能配置 (Performance Configuration)
# ===========================================
# 最大并发连接数
MAX_CONNECTIONS=100

# 数据库查询超时时间（毫秒）
QUERY_TIMEOUT=30000

# 内存缓存大小
CACHE_SIZE=1000

# 请求体大小限制（MB）
BODY_LIMIT=50

# 是否启用 Gzip 压缩
ENABLE_GZIP=true

# ===========================================
# 邮件配置 (Email Configuration)
# ===========================================
# SMTP 服务器地址
SMTP_HOST=smtp.gmail.com

# SMTP 端口
SMTP_PORT=587

# SMTP 用户名
SMTP_USER=your_email@gmail.com

# SMTP 密码或应用密码
SMTP_PASS=your_email_password

# 发件人邮箱
FROM_EMAIL=noreply@chengex.wisdomier.com

# 发件人名称
FROM_NAME=TravelWeb

# ===========================================
# 第三方服务配置 (Third-party Services)
# ===========================================
# 腾讯云 COS 配置
TENCENT_SECRET_ID=your_secret_id
TENCENT_SECRET_KEY=your_secret_key
TENCENT_BUCKET=your_bucket_name
TENCENT_REGION=ap-beijing

# 阿里云 OSS 配置
ALIYUN_ACCESS_KEY_ID=your_access_key_id
ALIYUN_ACCESS_KEY_SECRET=your_access_key_secret
ALIYUN_BUCKET=your_bucket_name
ALIYUN_REGION=oss-cn-beijing

# ===========================================
# 监控和分析配置 (Monitoring & Analytics)
# ===========================================
# 是否启用性能监控
ENABLE_PERFORMANCE_MONITOR=true

# 是否启用错误追踪
ENABLE_ERROR_TRACKING=true

# 监控数据上报间隔（秒）
MONITOR_INTERVAL=60

# ===========================================
# 开发配置 (Development Configuration)
# ===========================================
# 是否启用热重载
ENABLE_HOT_RELOAD=false

# 是否启用调试模式
DEBUG_MODE=false

# 是否显示详细错误信息
SHOW_DETAILED_ERRORS=false

# API 文档路径
API_DOCS_PATH=/api-docs

# 是否启用 API 文档
ENABLE_API_DOCS=false